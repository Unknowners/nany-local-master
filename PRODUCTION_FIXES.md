# üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ –ø—Ä–æ–¥–∞–∫—à–Ω—ñ –Ω–µ –∑–∞–ø–æ–≤–Ω—é–≤–∞–ª–∏—Å—è –¥–æ–≤—ñ–¥–Ω–∏–∫–∏ —Ç–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏ –¥–æ —Ñ–∞–π–ª—ñ–≤ —É –º—ñ–≥—Ä–∞—Ü—ñ—è—Ö —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∞—Ö.

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 1. –°–∏–Ω—Ç–∞–∫—Å–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –≤ app/main.py
**–ü—Ä–æ–±–ª–µ–º–∞**: IndentationError –Ω–∞ –ª—ñ–Ω—ñ—ó 141
**–†—ñ—à–µ–Ω–Ω—è**: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –∫–æ–¥—É –≤ –±–ª–æ—Ü—ñ try-except

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏ –≤ Alembic –º—ñ–≥—Ä–∞—Ü—ñ—ó
**–§–∞–π–ª**: `alembic/versions/345c144ad17e_add_complete_onboarding_and_reference_.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú—ñ–≥—Ä–∞—Ü—ñ—è —à—É–∫–∞–ª–∞ —Ñ–∞–π–ª–∏ –≤ `../../nanny-match-ukraine/fastapi-backend-data/`
**–†—ñ—à–µ–Ω–Ω—è**: –ó–º—ñ–Ω–µ–Ω–æ —à–ª—è—Ö–∏ –Ω–∞ `../../schema` —Ç–∞ `../../seed-data`

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏ –≤ seed —Å–∫—Ä–∏–ø—Ç—ñ
**–§–∞–π–ª**: `scripts/seed_data_complete.py`
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∫—Ä–∏–ø—Ç —à—É–∫–∞–≤ —Ñ–∞–π–ª–∏ –≤ `../../nanny-match-ukraine/fastapi-backend-data/`
**–†—ñ—à–µ–Ω–Ω—è**: –ó–º—ñ–Ω–µ–Ω–æ —à–ª—è—Ö–∏ –Ω–∞ `../seed-data`

### 4. –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É
**–§–∞–π–ª**: `fix_production_data.py`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω—ñ –∑ –æ–±—Ä–æ–±–∫–æ—é –ø–æ–º–∏–ª–æ–∫

## üöÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω

### 1. –õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ)
```bash
cd nanny-match-backend
export DATABASE_URL="postgresql://app:app@localhost:5432/nanny_match"
python fix_production_data.py
```

### 2. –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
```bash
# 1. –ó–∞–ø—É—Å–∫ –º—ñ–≥—Ä–∞—Ü—ñ–π
make prod-migrate
# –∞–±–æ
docker-compose exec backend alembic upgrade head

# 2. –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
make prod-seed
# –∞–±–æ
docker-compose exec backend python scripts/seed_data_complete.py

# 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
docker-compose exec backend python fix_production_data.py
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
```bash
# –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –ø—Ä–æ–¥–∞–∫—à–Ω
docker-compose exec postgres psql -U app -d nanny_match_prod

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–≤—ñ–¥–Ω–∏–∫—ñ–≤
SELECT COUNT(*) FROM data_categories;
SELECT COUNT(*) FROM reference_values;

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É
SELECT COUNT(*) FROM onboarding_configs;
SELECT COUNT(*) FROM onboarding_steps;
SELECT COUNT(*) FROM onboarding_fields;
```

## üìä –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –¥–∞–Ω—ñ:
- **–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –¥–æ–≤—ñ–¥–Ω–∏–∫—ñ–≤**: ~14
- **–ó–Ω–∞—á–µ–Ω–Ω—è –¥–æ–≤—ñ–¥–Ω–∏–∫—ñ–≤**: ~48
- **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É**: 2 (parent, nanny)
- **–ö—Ä–æ–∫–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É**: ~16 (7 –¥–ª—è –±–∞—Ç—å–∫—ñ–≤ + 9 –¥–ª—è –Ω—è–Ω—å)
- **–ü–æ–ª—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É**: –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

## üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –Ø–∫—â–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –º—ñ–≥—Ä–∞—Ü—ñ–π
docker-compose exec backend alembic current
docker-compose exec backend alembic history

# –ü—Ä–∏–º—É—Å–æ–≤–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –º—ñ–≥—Ä–∞—Ü—ñ—é
docker-compose exec backend alembic upgrade 345c144ad17e
```

### –Ø–∫—â–æ seed data –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤
docker-compose exec backend ls -la /app/seed-data/

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
docker-compose exec backend python fix_production_data.py
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É:
```bash
# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API
curl -X GET https://nany.datavertex.me/api/v1/onboarding/configs
curl -X GET https://nany.datavertex.me/api/v1/onboarding/steps/parent
curl -X GET https://nany.datavertex.me/api/v1/reference/categories
```

## üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞

- –í—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏ –º–∞—é—Ç—å –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫
- –î—É–±–ª—ñ–∫–∞—Ç–∏ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

1. **–†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**: –ó–∞–≤–∂–¥–∏ —Ä–æ–±—ñ—Ç—å backup –ø–µ—Ä–µ–¥ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è–º –∑–º—ñ–Ω –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω—ñ
2. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –í—Å—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ
3. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥**: –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Ç–∞ API endpoints
4. **Rollback**: –£ —Ä–∞–∑—ñ –ø—Ä–æ–±–ª–µ–º –º–æ–∂–Ω–∞ –≤—ñ–¥–∫–æ—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó: `alembic downgrade -1`

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:
- ‚úÖ –î–æ–≤—ñ–¥–Ω–∏–∫–∏ –∑–∞–ø–æ–≤–Ω—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- ‚úÖ –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è
- ‚úÖ API –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Frontend –æ—Ç—Ä–∏–º—É—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ